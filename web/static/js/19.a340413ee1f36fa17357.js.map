{"version":3,"sources":["webpack:///src/components/articleTitle.vue","webpack:///./src/components/articleTitle.vue?627f","webpack:///./src/components/articleTitle.vue"],"names":["articleTitle","components","data","currentIndex","currentPage","pageshow","notice","page","total","showList","systemNotice","normalNotice","mounted","this","getNoticeInfo","$route","query","id","methods","moment","a","openNotice","handleCurrentChange","val","getNotice","articleSelect","index","_this","$nextTick","_this2","axios","get","headers","Content-Type","domain","url","Authorization","sessionStorage","getItem","then","response","code","reg","RegExp","content","JSON","parse","stringify_default","replace","type","_this3","list","totalCount","components_articleTitle","render","_vm","_h","$createElement","_c","_self","staticClass","class","isSelect","on","click","$event","_v","_l","item","_s","title","domProps","innerHTML","createTime","format","_e","attrs","background","layout","current-page","current-change","author","readCount","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.a340413ee1f36fa17357.js","sourcesContent":["<template>\n\n  <div class=\"box mar fffbg\">\n    <!--<topMember v-on:member=\"getInfor\"></topMember>-->\n    <div class=\"news_left\" >\n      <div class=\"news_cat\">\n        <ul>\n          <li :class=\"{isSelect:currentIndex === 0}\" @click=\"articleSelect(0)\">系统公告</li>\n          <li :class=\"{isSelect:currentIndex === 1}\" @click=\"articleSelect(1)\">常见问题</li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"news_right\" >\n      <div v-if=\"showList\">\n        <div v-if=\"currentIndex === 0\" class=\"news_item\" v-for=\"item in systemNotice\">\n          <div class=\"title\">\n            <a>{{item.title}}</a>\n          </div>\n          <div class=\"content\"  v-html=\"item.content\"></div>\n          <div class=\"views\">\n            <span>{{moment(item.createTime).format('YYYY-MM-DD')}}</span>\n            <div class=\"btn\" @click=\"openNotice(item.id)\">查看详情</div>\n          </div>\n        </div>\n        <div v-if=\"currentIndex === 1\" class=\"news_item\" v-for=\"item in normalNotice\">\n          <div class=\"title\">\n            <a>{{item.title}}</a>\n          </div>\n          <div class=\"content\">{{item.content}}</div>\n          <div class=\"views\">\n            <span>{{moment(item.createTime).format('YYYY-MM-DD')}}</span>\n            <div class=\"btn\" @click=\"openNotice(item.id)\">查看详情</div>\n          </div>\n        </div>\n      <el-pagination\n        v-if=\"pageshow\"\n        background\n        layout=\"prev, pager, next\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :total=\"total\">\n      </el-pagination>\n      </div>\n      <div v-else class=\"news_main\">\n        <div class=\"title\">{{notice.title}}</div>\n        <div  class=\"other\">\n          <div >来源：{{notice.author}}</div>\n          <div >时间：{{moment().format('YYYY-MM-DD HH:mm:ss')}}</div>\n          <div >浏览量：{{notice.readCount}} 次</div>\n        </div>\n        <div class=\"line\"></div>\n        <div class=\"detail\" v-html=\"notice.content\">\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import moment from \"moment\";\nexport default {\n  components: {\n\n  },\n  data() {\n    return {\n      currentIndex:0,\n      currentPage:1,\n      pageshow:true,\n      notice:'',\n      page:0,\n      total:0,\n      showList:false,\n      systemNotice:[],\n      normalNotice:[],\n    };\n  },\n  mounted(){\n    this.getNoticeInfo(this.$route.query.id)\n  },\n  methods: {\n    moment,\n    openNotice(id){\n      this.getNoticeInfo(id);\n\n    },\n    handleCurrentChange(val) {\n      this.page=val;\n      if(this.currentIndex === 0){\n        this.getNotice(1);\n      }else{\n        this.getNotice(2);\n      }\n      // this.search();\n    },\n    articleSelect(index){\n      this.currentIndex = index;\n      this.page = 0;\n      this.showList = true;\n      this.currentPage = 1;\n      if(this.currentIndex === 0){\n        this.getNotice(1);\n      }else{\n        this.getNotice(2);\n      }\n      this.pageshow = false;//让分页隐藏\n      this.$nextTick(() => {//重新渲染分页\n        this.pageshow = true;\n      });\n    },\n    getNoticeInfo(id) {\n      this.showList = false;\n      this.axios\n        .get(\n          // process.env.API_HOST+\"wallet/myTotal\",\n          \"/giftmall/notice/\"+id,\n          {\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n              // \"domain\": \"taobao1.tianyalei.com\",\n              domain: this.url,\n\n              Authorization: sessionStorage.getItem(\"token\")\n            },\n          }\n        )\n        .then(response => {\n          if (response.data.code == 200) {\n            this.notice = response.data.data;\n            let reg=new RegExp('<img ','g')//g代表全部\n            this.notice.content = JSON.parse(JSON.stringify(this.notice.content).replace(reg,\"<img style='width:100%'\"));\n          }\n        });\n    },\n    getNotice(type) {\n      this.axios\n        .get(\n          // process.env.API_HOST+\"wallet/myTotal\",\n          \"/giftmall/notice?size=10&type=\"+type+\"&page=\"+this.page,\n          {\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n              // \"domain\": \"taobao1.tianyalei.com\",\n              domain: this.url,\n\n              Authorization: sessionStorage.getItem(\"token\")\n            },\n          }\n        )\n        .then(response => {\n          if (response.data.code == 200) {\n            if(type === 1){\n              this.systemNotice = [];\n              this.systemNotice = response.data.data.list\n            }else{\n              this.normalNotice = [];\n              this.normalNotice = response.data.data.list\n            }\n            this.total = response.data.data.totalCount;\n          }\n        });\n    },\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n  .news_left{\n    float: left;\n    width: 260px;\n    .news_cat{\n      border-radius: 6px;\n      border: 1px solid #dadada;\n      margin: 40px;\n      ul li {\n        line-height: 55px;\n        text-align: center;\n        border-bottom: 1px solid #dadada;\n        font-size: 18px;\n        cursor: pointer;\n        color:#333333;\n      }\n      .isSelect{\n        background: #ff464e;\n        color:white;\n      }\n    }\n  }\n  .news_right{\n    float: right;\n    width: 860px;\n    margin: 40px 40px 20px 0;\n    .news_main {\n      border-radius: 6px;\n      padding: 20px;\n      background: #F2F2F2;\n      border: 1px solid #DADADA;\n      .title{\n        text-align: center;\n        color: #ff464e;\n        font-weight: bold;\n        margin-top: 30px;\n        font-size: 18px;\n      }\n      .other {\n        display: flex;\n        width: 485px;\n        margin: 20px auto;\n        justify-content: space-between;\n        font-size: 14px;\n        color: #666;\n      }\n      .line {\n        border-bottom: 1px dashed #999;\n        margin-bottom: 20px;\n      }\n      .detail{\n        line-height: 26px;\n        font-size: 15px;\n      }\n    }\n    .news_item {\n      padding: 20px;\n      border: 1px solid #dadada;\n      border-radius: 6px;\n      display: grid;\n      margin-bottom: 20px;\n      .title{\n        font-weight: bold;\n        line-height: 35px;\n        margin-bottom: 15px;\n        a {\n          color: #ff464e;\n        }\n      }\n      .content{\n        max-height: 75px;\n        color: #666;\n        font-size: 14px;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n        overflow: hidden;\n        line-height: 25px;\n\n      }\n      .views {\n        margin-top: 20px;\n        span {\n          float: right;\n          font-size: 14px;\n          color: #999;\n          line-height: 32px;\n        }\n        .btn {\n          line-height: 32px;\n          height: 32px;\n          width: 110px;\n          text-align: center;\n          border-radius: 6px;\n          background: #ff464e;\n          color: #fff;\n          float: right;\n          margin-right: 20px;\n          cursor: pointer;\n        }\n      }\n    }\n\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/articleTitle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box mar fffbg\"},[_c('div',{staticClass:\"news_left\"},[_c('div',{staticClass:\"news_cat\"},[_c('ul',[_c('li',{class:{isSelect:_vm.currentIndex === 0},on:{\"click\":function($event){return _vm.articleSelect(0)}}},[_vm._v(\"系统公告\")]),_vm._v(\" \"),_c('li',{class:{isSelect:_vm.currentIndex === 1},on:{\"click\":function($event){return _vm.articleSelect(1)}}},[_vm._v(\"常见问题\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"news_right\"},[(_vm.showList)?_c('div',[_vm._l((_vm.systemNotice),function(item){return (_vm.currentIndex === 0)?_c('div',{staticClass:\"news_item\"},[_c('div',{staticClass:\"title\"},[_c('a',[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.content)}}),_vm._v(\" \"),_c('div',{staticClass:\"views\"},[_c('span',[_vm._v(_vm._s(_vm.moment(item.createTime).format('YYYY-MM-DD')))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.openNotice(item.id)}}},[_vm._v(\"查看详情\")])])]):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.normalNotice),function(item){return (_vm.currentIndex === 1)?_c('div',{staticClass:\"news_item\"},[_c('div',{staticClass:\"title\"},[_c('a',[_vm._v(_vm._s(item.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.content))]),_vm._v(\" \"),_c('div',{staticClass:\"views\"},[_c('span',[_vm._v(_vm._s(_vm.moment(item.createTime).format('YYYY-MM-DD')))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.openNotice(item.id)}}},[_vm._v(\"查看详情\")])])]):_vm._e()}),_vm._v(\" \"),(_vm.pageshow)?_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.currentPage,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}}):_vm._e()],2):_c('div',{staticClass:\"news_main\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.notice.title))]),_vm._v(\" \"),_c('div',{staticClass:\"other\"},[_c('div',[_vm._v(\"来源：\"+_vm._s(_vm.notice.author))]),_vm._v(\" \"),_c('div',[_vm._v(\"时间：\"+_vm._s(_vm.moment().format('YYYY-MM-DD HH:mm:ss')))]),_vm._v(\" \"),_c('div',[_vm._v(\"浏览量：\"+_vm._s(_vm.notice.readCount)+\" 次\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line\"}),_vm._v(\" \"),_c('div',{staticClass:\"detail\",domProps:{\"innerHTML\":_vm._s(_vm.notice.content)}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-119ad374\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/articleTitle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-119ad374\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./articleTitle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./articleTitle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./articleTitle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-119ad374\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./articleTitle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-119ad374\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/articleTitle.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}