{"version":3,"sources":["webpack:///src/components/recharge.vue","webpack:///./src/components/recharge.vue?ea3d","webpack:///./src/components/recharge.vue"],"names":["recharge","components","foot","top","public_top","topMember","data","money","payurl","orderNum","dialogVisible","ispay","type","methods","chongzhi","this","that","axios","post","qs","stringify","headers","Content-Type","domain","url","Authorization","sessionStorage","getItem","then","response","code","payinfo","getState","$message","message","setTimeout","get","deleteFlag","$router","push","components_recharge","render","_vm","_h","$createElement","_c","_self","_v","staticClass","staticStyle","min-height","_m","attrs","label-width","label","width","model","value","callback","$$v","expression","placeholder","on","click","title","visible","update:visible","$event","margin","border","height","src","text-align","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.3ae38b52048b60cceacf.js","sourcesContent":["<template>\n  <div>\n    <top/>\n    <!--<topMember></topMember>-->\n    <div class=\"box mar fffbg\" style=\"min-height:500px;\">\n      <div class=\"mainH\">\n        <div class=\"mainHICO\"></div>\n        <span class=\"pull-left\">充值</span>\n      </div>\n      <div class=\"pad mar\">\n         <el-form  label-width=\"80px\">\n            <el-form-item label=\"充值金额\">\n              <el-input type=\"number\" v-model=\"money\" style=\"width:194px;\"></el-input> 元\n            </el-form-item>\n            <el-form-item label=\"充值平台\">\n                  <el-select v-model=\"type\" placeholder=\"请选择平台\">\n                    <el-option label=\"支付宝充值\" value=\"1\"></el-option>\n                    <el-option label=\"微信充值\" value=\"2\"></el-option>\n                  </el-select>\n            </el-form-item>\n            <el-form-item>\n                  <el-button @click=\"chongzhi\" type=\"primary\">确认充值</el-button>\n            </el-form-item>\n         </el-form>\n\n      </div>\n    </div>\n    <foot></foot>\n    <el-dialog\n      title=\"扫码充值\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\">\n      <div style=\"margin:-30px auto 0px auto;width:350px;\"><iframe width=\"350\" height=\"350\" style=\"border:0px;\" :src=\"'http://qr.liantu.com/api.php?w=350&text='+payurl\"></iframe></div>\n      <div v-if=\"type=='1'\" style=\"text-align:center\">打开支付宝扫码支付</div>\n      <div v-if=\"type=='2'\" style=\"text-align:center\">打开微信扫码支付</div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport foot from \"./public/foot.vue\";\nimport top from \"./public/top.vue\";\nimport topMember from \"./public/topMember.vue\";\nexport default {\n  components: {\n    foot,top,\n    topMember\n  },\n  data() {\n    return {\n      money:'',\n      payurl:'',\n      orderNum:'',\n      dialogVisible:false,\n      ispay:false,\n      type:'1'\n    };\n  },\n  methods: {\n    chongzhi(){\n      if(this.money==''){\n          this.$message({\n                message: \"请输入金额\",\n                type: 'warning'\n           });\n           return;\n      }\n      let that=this;\n      // this.axios.post(process.env.API_HOST+'wallet',\n      this.axios.post('/giftmall/wallet',\n      this.qs.stringify({\n            money:this.money*100,\n            type:this.type\n        }),{\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded',\n              // 'domain':'taobao1.tianyalei.com',\n              'domain':this.url,\n              \"Authorization\":sessionStorage.getItem('token')\n            }\n          })\n      .then(function (response) {\n          if(response.data.code==200){\n              that.payurl=response.data.data.payinfo;\n              that.orderNum=response.data.data.orderNum;\n              that.dialogVisible=true;\n              that.getState();\n          }else{\n              that.$message({\n                message: response.data.message,\n                type: 'warning'\n              });\n          }\n        })\n    },\n    getState(){\n      let that = this;\n      setTimeout(function(){\n            that.axios\n              .get(\n                // process.env.API_HOST+\"wallet/payResult?orderNum=\"+that.orderNum,\n                \"/giftmall/wallet/payResult?orderNum=\"+that.orderNum,\n                {\n                  headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    // \"domain\": \"taobao1.tianyalei.com\",\n                    \"domain\": this.url,\n                    \"Authorization\":sessionStorage.getItem('token')\n                  }\n                }\n              )\n              .then(function(response) {\n                if (response.data.code == 200) {\n                   if(response.data.data.deleteFlag){\n                      that.getState();\n                   }else{\n                      that.dialogVisible=false;\n                      that.$message({\n                            message: \"支付成功\",\n                            type: 'success'\n                      });\n                      that.$router.push('/member')\n                  }\n                }\n              });\n         }, 1000);\n    }\n  }\n};\n</script>\n\n<style>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/recharge.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('top'),_vm._v(\" \"),_c('div',{staticClass:\"box mar fffbg\",staticStyle:{\"min-height\":\"500px\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"pad mar\"},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"充值金额\"}},[_c('el-input',{staticStyle:{\"width\":\"194px\"},attrs:{\"type\":\"number\"},model:{value:(_vm.money),callback:function ($$v) {_vm.money=$$v},expression:\"money\"}}),_vm._v(\" 元\\n          \")],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"充值平台\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择平台\"},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('el-option',{attrs:{\"label\":\"支付宝充值\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"微信充值\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.chongzhi}},[_vm._v(\"确认充值\")])],1)],1)],1)]),_vm._v(\" \"),_c('foot'),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"扫码充值\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticStyle:{\"margin\":\"-30px auto 0px auto\",\"width\":\"350px\"}},[_c('iframe',{staticStyle:{\"border\":\"0px\"},attrs:{\"width\":\"350\",\"height\":\"350\",\"src\":'http://qr.liantu.com/api.php?w=350&text='+_vm.payurl}})]),_vm._v(\" \"),(_vm.type=='1')?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"打开支付宝扫码支付\")]):_vm._e(),_vm._v(\" \"),(_vm.type=='2')?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"打开微信扫码支付\")]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainH\"},[_c('div',{staticClass:\"mainHICO\"}),_vm._v(\" \"),_c('span',{staticClass:\"pull-left\"},[_vm._v(\"充值\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a1e506a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/recharge.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a1e506a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./recharge.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./recharge.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./recharge.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a1e506a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./recharge.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/recharge.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}