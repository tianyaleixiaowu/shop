webpackJsonp([16],{"294r":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("rQpX"),l=a("RxMd"),s={components:{foot:n.default,topMember:l.default},data:function(){return{type:"",page:1,size:10,tableData:[],total:0,dateValue:"",mytotal:0}},mounted:function(){this.search(),this.getMoney()},methods:{getMoney:function(){var e=this;this.axios.get("/giftmall/wallet/myTotal",{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url,Authorization:sessionStorage.getItem("token")}}).then(function(t){200==t.data.code&&(e.mytotal=t.data.data)})},search:function(){var e=this;this.axios.get("/giftmall/wallet?begin="+(e.dateValue[0]||"")+"&end="+(e.dateValue[1]||"")+"&type="+e.type+"&page="+(e.page-1)+"&size="+e.size,{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url,Authorization:sessionStorage.getItem("token")}}).then(function(t){if(200==t.data.code){for(var a=0;a<t.data.data.list.length;a++)t.data.data.list[a].createTime=e.gettime(t.data.data.list[a].createTime);e.tableData=t.data.data.list,e.total=t.data.data.totalCount}})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.size=e,this.search()},handleCurrentChange:function(e){console.log("当前页: "+e),this.page=e,this.search()},gettime:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()>8?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate())+"   "+(t.getHours()>9?t.getHours():"0"+t.getHours())+":"+(t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes())+":"+(t.getSeconds()>9?t.getSeconds():"0"+t.getSeconds())}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("topMember"),e._v(" "),a("div",{staticClass:"box mar fffbg",staticStyle:{"min-height":"500px"}},[e._m(0),e._v(" "),a("div",{staticClass:"pad"},[e._v("\n      账户余额："),a("strong",{staticClass:"red f20"},[e._v("￥"+e._s(e.mytotal/100))]),a("br"),e._v(" "),a("div",{staticClass:"mar"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{key:"1",attrs:{label:"充值",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"消费",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"退费",value:"3"}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"提现",value:"4"}})],1),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"mar"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-style":{background:"#f7f7f7"}}},[a("el-table-column",{attrs:{prop:"createTime",label:"日期",align:"center",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",align:"center",label:"款项"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?a("span",[e._v("充值")]):e._e(),e._v(" "),2==t.row.type?a("span",[e._v("消费")]):e._e(),e._v(" "),3==t.row.type?a("span",[e._v("退费")]):e._e(),e._v(" "),4==t.row.type?a("span",[e._v("提现")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.money/100)+" 元\n              ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.deleteFlag?a("span",{staticClass:"red"},[e._v("成功")]):e._e(),e._v(" "),1==t.row.deleteFlag?a("span",[e._v("失败")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pageDiv"},[a("el-pagination",{attrs:{background:"","page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),a("foot")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mainH"},[t("div",{staticClass:"mainHICO"}),this._v(" "),t("span",{staticClass:"pull-left"},[this._v("资金明细")])])}]};var i=a("VU/8")(s,o,!1,function(e){a("n7P6")},null,null);t.default=i.exports},n7P6:function(e,t){}});
//# sourceMappingURL=16.e95eea17dbd142f6b19a.js.map