{"version":3,"sources":["webpack:///src/components/register.vue","webpack:///./src/components/register.vue?33fd","webpack:///./src/components/register.vue"],"names":["components_register","components","foot","top","public_top","data","account","code","password","qq","wx","codeText","countdown","isGet","methods","getCode","_this","this","test","$message","message","type","settime","axios","post","qs","stringify","mobile","headers","Content-Type","domain","url","Authorization","sessionStorage","getItem","then","response","_this2","setTimeout","registerHandle","checkCode","register","_this3","inviteCode","localStorage","Object","md5","console","log","$router","push","_this4","promise_default","a","resolve","reject","smsCode","res","catch","err","login","selectortype_template_index_0_src_components_register","render","_vm","_h","$createElement","_c","_self","_v","staticClass","attrs","prefix-icon","placeholder","model","value","callback","$$v","trim","expression","disabled","on","click","_s","show-password","staticStyle","margin-top","gutter","span","position","left","bottom","width","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.277e1385c0ce16132364.js","sourcesContent":["<template>\n  <div>\n    <top></top>\n    <div class=\"box\">\n      <div class=\"loginCenter\">\n        <div class=\"loginBg\">\n          <div class=\"loginTitle\">欢迎来到礼品淘</div>\n          <div class=\"loginDesc\">我们提供赠品采购、发货、一站式服务。</div>\n          <div class=\"inp1\">\n            <el-input prefix-icon=\"el-icon-mobile\" placeholder=\"请输入手机号\" v-model.trim=\"account\"></el-input>\n          </div>\n          <div class=\"inp1\">\n            <el-input prefix-icon=\"el-icon-lock\" placeholder=\"请输入验证码\" v-model=\"code\"></el-input>\n            <el-button @click=\"getCode\" :disabled=\"isGet\" class=\"getCode\" type=\"text\">{{codeText}}</el-button>\n          </div>\n          <div class=\"inp1\">\n            <el-input\n              prefix-icon=\"el-icon-lock\"\n              show-password\n              placeholder=\"请设置密码\"\n              v-model=\"password\"\n            ></el-input>\n          </div>\n          <div class=\"inp1\">\n            <el-input prefix-icon=\"el-icon-user\" placeholder=\"请输入QQ号\" v-model=\"qq\"></el-input>\n          </div>\n          <div class=\"inp1\">\n            <el-input prefix-icon=\"el-icon-user\" placeholder=\"请输入微信号\" v-model=\"wx\"></el-input>\n          </div>\n          <el-row :gutter=\"20\" style=\"margin-top:15px;\">\n            <el-col :span=\"12\">\n              <el-button class=\"submitBt\" @click=\"registerHandle\" type=\"primary\">完成注册</el-button>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-button class=\"submitBt\" @click=\"login\" type=\"info\">返回登录</el-button>\n            </el-col>\n          </el-row>\n        </div>\n      </div>\n    </div>\n    <div style=\"position:fixed;left:0;bottom:0;width:100%;\">\n      <foot></foot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport foot from \"./public/foot.vue\";\nimport top from \"./public/top.vue\";\nimport { hex_md5 } from \"../utils/md5\";\nexport default {\n  components: {\n    foot,\n    top\n  },\n  data() {\n    return {\n      account: \"\",\n      code: \"\",\n      password: \"\",\n      qq: \"\",\n      wx: \"\",\n      codeText: \"获取验证码\",\n      countdown: 60,\n      isGet: false\n    };\n  },\n  methods: {\n    getCode() {\n      var myreg = /^1\\d{10}$/;\n      if (!myreg.test(this.account)) {\n        this.$message({\n          message: \"请填写有效的手机号\",\n          type: \"warning\"\n        });\n        return false;\n      }\n      this.settime();\n      // this.axios.post(process.env.API_HOST+'user/sms',\n      this.axios\n        .post(\n          \"/giftmall/user/sms\",\n          this.qs.stringify({\n            mobile: this.account\n          }),\n          {\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n              // 'domain':'taobao1.tianyalei.com',\n              domain: this.url,\n              Authorization: sessionStorage.getItem(\"token\")\n            }\n          }\n        )\n        .then(response => {\n          if (response.data.code == 200) {\n            this.$message({\n              message: \"验证码已发送成功\",\n              type: \"success\"\n            });\n          }\n        });\n    },\n    settime() {\n      if (this.countdown == 0) {\n        this.isGet = false;\n        this.codeText = \"获取验证码\";\n        this.countdown = 60;\n        return;\n      } else {\n        this.isGet = true;\n        this.codeText = this.countdown + \"S\";\n        this.countdown = this.countdown - 1;\n      }\n      setTimeout(() => {\n        this.settime();\n      }, 1000);\n    },\n    registerHandle() {\n      if (!this.account) {\n        return this.$message({\n          message: \"请填写账号\",\n          type: \"warning\"\n        });\n      }\n      if (!this.code) {\n        return this.$message({\n          message: \"请填写验证码\",\n          type: \"warning\"\n        });\n      }\n      if (!this.password) {\n        return this.$message({\n          message: \"请填写密码\",\n          type: \"warning\"\n        });\n      }\n      this.checkCode();\n    },\n    register() {\n      const inviteCode = localStorage.getItem(\"inviteCodeParent\");\n      this.axios\n        .post(\n          \"/giftmall/user/regist\",\n          this.qs.stringify({\n            account: this.account,\n            password: hex_md5(this.password),\n            qq: this.qq,\n            wx: this.wx,\n            inviteCode\n          }),\n          {\n            headers: {\n              \"Content-Type\": \"application/x-www-form-urlencoded\",\n              // 'domain':'taobao1.tianyalei.com'\n              domain: this.url\n            }\n          }\n        )\n        .then(response => {\n          console.log(response);\n          if (response.data.code == 200) {\n            this.$message({\n              message: \"注册成功\",\n              type: \"success\"\n            });\n            this.$router.push(\"/login\");\n          } else {\n            this.$message({\n              message: response.data.message,\n              type: \"warning\"\n            });\n          }\n        });\n    },\n    checkCode() {\n      return new Promise((resolve, reject) => {\n        this.axios\n          .post(\n            \"/giftmall/user/checkCode\",\n            this.qs.stringify({\n              mobile: this.account,\n              smsCode: this.code\n            }),\n            {\n              headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n              }\n            }\n          )\n          .then(res => {\n            const data = res.data;\n            if (data.code == 200) {\n              if (data.data) {\n                this.register()\n                } else {\n                  this.$message({\n                    message: '验证码有误，请重新填写',\n                    type: 'warning'\n                  })\n                }\n            } else {\n              this.$message({\n                message: data.message,\n                type: \"warning\"\n              });\n            }\n          })\n          .catch(err => {\n            this.$message({\n              message: \"系统繁忙，请稍后再试\",\n              type: \"warning\"\n            });\n          });\n      });\n    },\n    login() {\n      this.$router.push(\"/login\");\n    }\n  }\n};\n</script>\n\n<style scoped>\n.loginCenter {\n  background: url(../../static/loginLeft.png) no-repeat 40px center;\n  height: 533px;\n  position: absolute;\n  top: 50%;\n  margin-top: -266px;\n  width: 1200px;\n  left: 50%;\n  margin-left: -600px;\n}\n.loginBg {\n  background: #fff;\n  border-radius: 10px;\n  padding: 25px;\n  float: right;\n  margin-top: 20px;\n  margin-right: 20px;\n  width: 320px;\n}\n.loginTitle {\n  font-size: 24px;\n}\n.loginDesc {\n  font-size: 15px;\n  color: #999;\n}\n.inp1 {\n  margin-top: 15px;\n  position: relative;\n}\n.getCode {\n  position: absolute;\n  right: 20px;\n  top: 0px;\n}\n.submitBt {\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('top'),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"loginCenter\"},[_c('div',{staticClass:\"loginBg\"},[_c('div',{staticClass:\"loginTitle\"},[_vm._v(\"欢迎来到礼品淘\")]),_vm._v(\" \"),_c('div',{staticClass:\"loginDesc\"},[_vm._v(\"我们提供赠品采购、发货、一站式服务。\")]),_vm._v(\" \"),_c('div',{staticClass:\"inp1\"},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-mobile\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.account),callback:function ($$v) {_vm.account=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"account\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inp1\"},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"getCode\",attrs:{\"disabled\":_vm.isGet,\"type\":\"text\"},on:{\"click\":_vm.getCode}},[_vm._v(_vm._s(_vm.codeText))])],1),_vm._v(\" \"),_c('div',{staticClass:\"inp1\"},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-lock\",\"show-password\":\"\",\"placeholder\":\"请设置密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inp1\"},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"请输入QQ号\"},model:{value:(_vm.qq),callback:function ($$v) {_vm.qq=$$v},expression:\"qq\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"inp1\"},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"请输入微信号\"},model:{value:(_vm.wx),callback:function ($$v) {_vm.wx=$$v},expression:\"wx\"}})],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"submitBt\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.registerHandle}},[_vm._v(\"完成注册\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{staticClass:\"submitBt\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.login}},[_vm._v(\"返回登录\")])],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"fixed\",\"left\":\"0\",\"bottom\":\"0\",\"width\":\"100%\"}},[_c('foot')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7066e1f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7066e1f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7066e1f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7066e1f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}