webpackJsonp([20],{K31e:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("rQpX"),o=e("Qc6y"),a=e("/W+i"),n={components:{foot:i.default,top:o.default},data:function(){return{account:"",password:"",code:"",smsCode:"",wangji:!1,inviteCode:"",codeText:"获取验证码",countdown:60,isGet:!1}},mounted:function(){console.log(this.url)},methods:{getCode:function(){var t=this;if(!/^1\d{10}$/.test(this.account))return this.$message({message:"请填写有效的手机号",type:"warning"}),!1;this.settime(),this.axios.post("/giftmall/user/sms",this.qs.stringify({mobile:this.account}),{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url,Authorization:sessionStorage.getItem("token")}}).then(function(s){200==s.data.code&&t.$message({message:"验证码已发送成功",type:"success"})})},settime:function(){if(0==this.countdown)return this.isGet=!1,this.codeText="获取验证码",void(this.countdown=60);this.isGet=!0,this.codeText=this.countdown+"S",this.countdown=this.countdown-1;var t=this;setTimeout(function(){t.settime()},1e3)},login:function(){var t=this;this.axios.post("/giftmall/user/login",this.qs.stringify({account:this.account,password:Object(a.a)(this.password)}),{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url}}).then(function(s){200==s.data.code?(t.$message({message:"登录成功",type:"success"}),sessionStorage.setItem("token",s.data.data),t.$router.push("/member")):t.$message({message:s.data.message,type:"warning"})})},forget:function(){var t=this;this.axios.post("/giftmall/user/forgetPassword",this.qs.stringify({account:this.account,password:Object(a.a)(this.password),smsCode:this.smsCode}),{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url}}).then(function(s){200==s.data.code?t.$message({message:"修改成功",type:"success"}):t.$message({message:s.data.message,type:"warning"})})},register:function(){this.$router.push("/register")}}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("top"),t._v(" "),e("div",{staticClass:"box"},[e("div",{staticClass:"loginCenter"},[e("div",{staticClass:"loginBg"},[e("div",{staticClass:"loginTitle"},[t._v("欢迎来到礼品淘")]),t._v(" "),e("div",{staticClass:"loginDesc"},[t._v("我们提供赠品采购、发货、一站式服务。")]),t._v(" "),e("div",{staticClass:"inp1"},[e("el-input",{attrs:{"prefix-icon":"el-icon-mobile",placeholder:"请输入手机号"},model:{value:t.account,callback:function(s){t.account="string"==typeof s?s.trim():s},expression:"account"}})],1),t._v(" "),e("div",{staticClass:"inp1"},[e("el-input",{attrs:{"prefix-icon":"el-icon-lock","show-password":"",placeholder:"请输入密码"},model:{value:t.password,callback:function(s){t.password="string"==typeof s?s.trim():s},expression:"password"}})],1),t._v(" "),e("div",{staticClass:"mar"},[e("el-link",{attrs:{type:"danger"},on:{click:function(s){t.wangji=!0}}},[t._v("忘记密码")])],1),t._v(" "),e("el-row",{staticStyle:{"margin-top":"15px"},attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-button",{staticClass:"submitBt",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-button",{staticClass:"submitBt",attrs:{type:"info"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)])]),t._v(" "),e("div",{staticStyle:{position:"fixed",left:"0",bottom:"0",width:"100%"}},[e("foot")],1),t._v(" "),e("el-dialog",{attrs:{title:"找回密码",visible:t.wangji,width:"30%"},on:{"update:visible":function(s){t.wangji=s}}},[e("div",{staticClass:"inp1"},[e("el-input",{attrs:{"prefix-icon":"el-icon-mobile",placeholder:"请输入手机号"},model:{value:t.account,callback:function(s){t.account="string"==typeof s?s.trim():s},expression:"account"}})],1),t._v(" "),e("div",{staticClass:"inp1"},[e("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入验证码"},model:{value:t.smsCode,callback:function(s){t.smsCode="string"==typeof s?s.trim():s},expression:"smsCode"}}),t._v(" "),e("el-button",{staticClass:"getCode",attrs:{disabled:t.isGet,type:"text"},on:{click:t.getCode}},[t._v(t._s(t.codeText))])],1),t._v(" "),e("div",{staticClass:"inp1"},[e("el-input",{attrs:{"prefix-icon":"el-icon-lock","show-password":"",placeholder:"请设置密码"},model:{value:t.password,callback:function(s){t.password="string"==typeof s?s.trim():s},expression:"password"}})],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(s){t.wangji=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(s){t.wangji=!1,t.forget()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var r=e("VU/8")(n,c,!1,function(t){e("mY5K")},"data-v-2c46d5a5",null);s.default=r.exports},mY5K:function(t,s){}});
//# sourceMappingURL=20.849ddc3fa508a7ce9fba.js.map