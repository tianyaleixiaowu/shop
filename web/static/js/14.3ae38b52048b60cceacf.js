webpackJsonp([14],{"1hE6":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("rQpX"),s=a("Qc6y"),l=a("RxMd"),o={components:{foot:i.default,top:s.default,topMember:l.default},data:function(){return{money:"",payurl:"",orderNum:"",dialogVisible:!1,ispay:!1,type:"1"}},methods:{chongzhi:function(){if(""!=this.money){var t=this;this.axios.post("/giftmall/wallet",this.qs.stringify({money:100*this.money,type:this.type}),{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url,Authorization:sessionStorage.getItem("token")}}).then(function(e){200==e.data.code?(t.payurl=e.data.data.payinfo,t.orderNum=e.data.data.orderNum,t.dialogVisible=!0,t.getState()):t.$message({message:e.data.message,type:"warning"})})}else this.$message({message:"请输入金额",type:"warning"})},getState:function(){var t=this;setTimeout(function(){t.axios.get("/giftmall/wallet/payResult?orderNum="+t.orderNum,{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url,Authorization:sessionStorage.getItem("token")}}).then(function(e){200==e.data.code&&(e.data.data.deleteFlag?t.getState():(t.dialogVisible=!1,t.$message({message:"支付成功",type:"success"}),t.$router.push("/member")))})},1e3)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top"),t._v(" "),a("div",{staticClass:"box mar fffbg",staticStyle:{"min-height":"500px"}},[t._m(0),t._v(" "),a("div",{staticClass:"pad mar"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"充值金额"}},[a("el-input",{staticStyle:{width:"194px"},attrs:{type:"number"},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),t._v(" 元\n          ")],1),t._v(" "),a("el-form-item",{attrs:{label:"充值平台"}},[a("el-select",{attrs:{placeholder:"请选择平台"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[a("el-option",{attrs:{label:"支付宝充值",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"微信充值",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.chongzhi}},[t._v("确认充值")])],1)],1)],1)]),t._v(" "),a("foot"),t._v(" "),a("el-dialog",{attrs:{title:"扫码充值",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{margin:"-30px auto 0px auto",width:"350px"}},[a("iframe",{staticStyle:{border:"0px"},attrs:{width:"350",height:"350",src:"http://qr.liantu.com/api.php?w=350&text="+t.payurl}})]),t._v(" "),"1"==t.type?a("div",{staticStyle:{"text-align":"center"}},[t._v("打开支付宝扫码支付")]):t._e(),t._v(" "),"2"==t.type?a("div",{staticStyle:{"text-align":"center"}},[t._v("打开微信扫码支付")]):t._e()])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mainH"},[e("div",{staticClass:"mainHICO"}),this._v(" "),e("span",{staticClass:"pull-left"},[this._v("充值")])])}]};var r=a("VU/8")(o,n,!1,function(t){a("xWRB")},null,null);e.default=r.exports},xWRB:function(t,e){}});
//# sourceMappingURL=14.3ae38b52048b60cceacf.js.map