webpackJsonp([13],{HpC2:function(t,e){},q3Wa:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("//Fk"),o=s.n(i),n=s("rQpX"),a=s("Qc6y"),c=s("/W+i"),r={components:{foot:n.default,top:a.default},data:function(){return{account:"",code:"",password:"",qq:"",wx:"",codeText:"获取验证码",countdown:60,isGet:!1}},methods:{getCode:function(){var t=this;if(!/^1\d{10}$/.test(this.account))return this.$message({message:"请填写有效的手机号",type:"warning"}),!1;this.settime(),this.axios.post("/giftmall/user/sms",this.qs.stringify({mobile:this.account}),{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url,Authorization:sessionStorage.getItem("token")}}).then(function(e){200==e.data.code&&t.$message({message:"验证码已发送成功",type:"success"})})},settime:function(){var t=this;if(0==this.countdown)return this.isGet=!1,this.codeText="获取验证码",void(this.countdown=60);this.isGet=!0,this.codeText=this.countdown+"S",this.countdown=this.countdown-1,setTimeout(function(){t.settime()},1e3)},registerHandle:function(){return this.account?this.code?this.password?void this.checkCode():this.$message({message:"请填写密码",type:"warning"}):this.$message({message:"请填写验证码",type:"warning"}):this.$message({message:"请填写账号",type:"warning"})},register:function(){var t=this,e=localStorage.getItem("inviteCodeParent");this.axios.post("/giftmall/user/regist",this.qs.stringify({account:this.account,password:Object(c.a)(this.password),qq:this.qq,wx:this.wx,inviteCode:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded",domain:this.url}}).then(function(e){console.log(e),200==e.data.code?(t.$message({message:"注册成功",type:"success"}),t.$router.push("/login")):t.$message({message:e.data.message,type:"warning"})})},checkCode:function(){var t=this;return new o.a(function(e,s){t.axios.post("/giftmall/user/checkCode",t.qs.stringify({mobile:t.account,smsCode:t.code}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var s=e.data;200==s.code?s.data?t.register():t.$message({message:"验证码有误，请重新填写",type:"warning"}):t.$message({message:s.message,type:"warning"})}).catch(function(e){t.$message({message:"系统繁忙，请稍后再试",type:"warning"})})})},login:function(){this.$router.push("/login")}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("top"),t._v(" "),s("div",{staticClass:"box"},[s("div",{staticClass:"loginCenter"},[s("div",{staticClass:"loginBg"},[s("div",{staticClass:"loginTitle"},[t._v("欢迎来到礼品淘")]),t._v(" "),s("div",{staticClass:"loginDesc"},[t._v("我们提供赠品采购、发货、一站式服务。")]),t._v(" "),s("div",{staticClass:"inp1"},[s("el-input",{attrs:{"prefix-icon":"el-icon-mobile",placeholder:"请输入手机号"},model:{value:t.account,callback:function(e){t.account="string"==typeof e?e.trim():e},expression:"account"}})],1),t._v(" "),s("div",{staticClass:"inp1"},[s("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._v(" "),s("el-button",{staticClass:"getCode",attrs:{disabled:t.isGet,type:"text"},on:{click:t.getCode}},[t._v(t._s(t.codeText))])],1),t._v(" "),s("div",{staticClass:"inp1"},[s("el-input",{attrs:{"prefix-icon":"el-icon-lock","show-password":"",placeholder:"请设置密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("div",{staticClass:"inp1"},[s("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入QQ号"},model:{value:t.qq,callback:function(e){t.qq=e},expression:"qq"}})],1),t._v(" "),s("div",{staticClass:"inp1"},[s("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入微信号"},model:{value:t.wx,callback:function(e){t.wx=e},expression:"wx"}})],1),t._v(" "),s("el-row",{staticStyle:{"margin-top":"15px"},attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-button",{staticClass:"submitBt",attrs:{type:"primary"},on:{click:t.registerHandle}},[t._v("完成注册")])],1),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-button",{staticClass:"submitBt",attrs:{type:"info"},on:{click:t.login}},[t._v("返回登录")])],1)],1)],1)])]),t._v(" "),s("div",{staticStyle:{position:"fixed",left:"0",bottom:"0",width:"100%"}},[s("foot")],1)],1)},staticRenderFns:[]};var d=s("VU/8")(r,l,!1,function(t){s("HpC2")},"data-v-7066e1f2",null);e.default=d.exports}});
//# sourceMappingURL=13.9ec98633038fc5608e19.js.map